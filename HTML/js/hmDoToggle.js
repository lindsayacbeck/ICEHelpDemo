/*! Help & Manual WebHelp 3 Script functions
Copyright (c) 2014 - 2015 by Tim Green. All rights reserved. Contact tg@it-authoring.com
*/
function hmDropDownToggles(){var a=this;this.HMToggle=function(c,l,f,e){var j=(typeof l==="undefined")?"toggle":l,h=(typeof f==="undefined")?150:f,q=c.attr("data-icon"),p=c.attr("data-type"),s=q?c.attr("data-src0"):null,r=q?c.attr("data-src1"):null,d=c.attr("data-state"),g=$("div#"+c.attr("id").replace(/_LINK/,"")),n=q?$("img#"+q):null,m=typeof e!=="undefined";function o(v){var z=c.position().top,t=g.position().top,C=(t-z)+g.height(),B=hmpage.$scrollContainer.height(),y=(z+C)-B,u=hmpage.$scrollBox[0].scrollTop,A=u+y,x=0,w=false;if(A<u){w=true}else{if(C>B||A<0){A=c;x=-10}}if(!w){hmpage.$scrollBox.scrollTo(A,300,{axis:"y",offset:{top:x}})}}function i(){g.slideDown(h,function(){if(!m){o(g)}});c.attr("data-state","1");if(q){n.attr("src",r)}if(!m){$("i#showhide_toggles_icon").attr("class","icon icon-eye-off menuimg");$("li#showhide_toggles span").first().html("Hide Expanding Text")}}function k(){g.slideUp(h);c.attr("data-state","0");if(q){n.attr("src",s)}if(!m){if($("a.dropdown-toggle[data-state='1']").length<1){$("i#showhide_toggles_icon").attr("class","icon icon-eye menuimg");$("li#showhide_toggles span").first().html("Show Expanding Text")}}}switch(j){case"toggle":if(d==="0"||g.is(":hidden")){i()}else{k()}break;case"expand":i();break;case"collapse":k();break}};this.hmToggleToggles=function(){var g,k={},l,c,f,j,h,e,i;if(arguments.length>0&&typeof arguments[0]==="object"){i=arguments[0];k=typeof i.toggles==="undefined"?$("a.dropdown-toggle"):i.toggles;l=k.length;c=typeof i.speed==="undefined"&&l<21?150:l>20?0:i.speed;f=typeof i.mode==="undefined"?"toggle":i.mode;j=f!=="collapse"?"1":"0";h=typeof i.scrolltarget==="undefined"?null:i.scrolltarget;e=i.dotoggle;g=f==="collapse"?l-1:0}else{k=$("a.dropdown-toggle");l=k.length;c=l<21?150:0,g=0,f="toggle",j="1";h=null}if(f==="toggle"){k.each(function(){if($(this).attr("data-state")==="1"){f="collapse";j="0";g=l-1;return false}});if(f==="toggle"){f="expand";j="1";g=0}}function d(){var n=c,m=c>0?c+20:0,o=$(k[g]);if(o.attr("class")==="dropdown-toggle-body"){o=$("a.dropdown-toggle[id^="+o.get(0).id+"]")}if(o.attr("data-state")===j){n=m=0}if(f==="collapse"){a.HMToggle(o,f,c,"multi");g--;if(g>-1){setTimeout(function(){d()},m)}else{if(h&&h.is(":visible")){setTimeout(function(){hmpage.$scrollBox.scrollTo(h,300,{offset:{top:-10},onAfter:function(){if(e){a.HMToggle(e)}}})},m+50)}}$("i#showhide_toggles_icon").attr("class","icon icon-eye menuimg");$("li#showhide_toggles span").first().html("Show Expanding Text")}else{if(f==="expand"){a.HMToggle(o,f,c,"multi");g++;if(g<l){setTimeout(function(){d()},m)}else{if(h){setTimeout(function(){hmpage.$scrollBox.scrollTo(h,300,{offset:{top:-10},onAfter:function(){if(e){a.HMToggle(e)}}})},m+50)}}$("i#showhide_toggles_icon").attr("class","icon icon-eye-off menuimg");$("li#showhide_toggles span").first().html("Hide Expanding Text")}}}d()};function b(d){var h,g,f,e;if(d&&typeof d==="object"){h=d.method;g=d.obj;switch(h){case"HMToggle":if(typeof g.target!=="undefined"){a.HMToggle(g.target,g.mode,g.speed)}else{a.HMToggle(g)}break;case"HMToggleIcon":var c=g.attr("id");c=c.replace(/_ICON$/,"_LINK");g=$("a#"+c);a.HMToggle(g);break;case"hmToggleToggles":if(typeof g==="object"&&g!==null){a.hmToggleToggles(g)}else{a.hmToggleToggles()}break}}}return b}hmWebHelp.funcs.hmDoToggle=hmDropDownToggles();
